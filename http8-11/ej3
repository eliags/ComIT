// 3) Crear un programa que inicialice un servidor en el puerto 3000, el mismo debe responder ante el endpoint /hola con el texto "mundo".

var http = require("http")
var URL = require("url")

var host = "127.0.0.1"
var port = 3000

var server = http.createServer(function(req, res) {
    if (req.method !== "GET") {
        res.statusCode = 401
        res.end("Error: se esperaba una conexi√≥n GET\n")
    }

    var objetoUrl = URL.parse(req.url)
    if (objetoUrl.pathname === "/hola") {
        var respuesta = "mundo"
        res.statusCode = 200
        res.setHeader("Content-Type", "application/json")
        res.end(respuesta)
    } else {
        res.statusCode = 404
        res.end("Error: endpoint no encontrado\n")
    }
})

server.listen(port, host, function() {
    console.log(`Servidor escuchando en http://${host}:${port}/`)
})